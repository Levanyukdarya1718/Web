<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>CPU</title>
    <link rel="stylesheet" href="cpu.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
</head>
<body>
    <h1 align="center">Сопременные десктопные процессоры архитектуры x86</h1>
    <h4 align="right"> общие принципы работы (x86 CPU digest 2.0)</h4>

    <p> Этот материал представляет собой обновлённую, существенно переработанную и дополненную версию статьи 2006 года, которая называлась «Современные десктопные процессоры архитектуры x86: общие принципы работы (x86 CPU FAQ 1.0)». Правда, чтобы не вводить потенциальных читателей в заблуждение словом «FAQ», мы решили назвать новый материал более правильным, как нам кажется, термином — «дайджест». Действительно, ведь большая его часть — это не ответы на конкретные вопросы, а разъяснения и краткие выжимки из чего угодно — от технической документации до истории развития микропроцессорной отрасли. Для кого предназначен данный материал? Нам видятся две группы потенциальных читателей.</p>

    <p style="color:lightblue; font-size:14px;">
        <strong>Первая</strong> — это те, кто вдруг обнаружил, что ему действительно интересно узнать, как работает современный x86-процессор. Для них мы попытались сосредоточить в рамках статьи максимальное количество полезных сведений, которые позволяют получить более-менее полное представление об этом процессе, даже не имея до этого (почти) никаких специальных знаний: здесь объясняется значение основных терминов, устройство современных CPU, принципы взаимодействия различных их составляющих между собой, а также процессора с компьютерной системой в целом.
    </p>

    <p><strong>Вторая группа</strong> — это те, кто не найдёт в статье почти ничего нового для себя — но им попросту лень писать нечто похожее самостоятельно, чтобы сосредоточить разбросанные по мозгу знания в одном месте, «причесать» их, систематизировать, упорядочить, осовременить, и так далее. Мы сами отлично понимаем, как бывает лениво писать конспекты :) (а особенно — хорошие конспекты), поэтому если наш дайджест вас устраивает — мы с радостью дарим вам возможность им пользоваться.</p>

    <p>Ну и традиционное предупреждение: если иное не указано явно, то слово «процессор» в данном материале обозначает «x86(-64) процессор, предназначенный для установки в десктопы или (намного реже) мобильные компьютеры». Серверные процессоры, специализированные процессоры с архитектурой x86, всевозможные embedded-варианты — всё это в рамках статьи не рассматривается.</p>
    <h2>Оглавление</h2>
    <ol ">
        <li>
            Введение
            <ul>
                <li>Общее устройство вычислительной машины</li>
                <li>Код и данные: основной принцип работы процессора</li>
            </ul>>
        </li>
        <li>Общие принципы взаимодействия процессора и ОЗУ</li>
        <ul>
            <li>Контроллер памяти</li>
            <li>Процессорная шина</li>
            <li>
                Оперативная память
                <ul class="nesting-lvl-2">
                    <li>Разрядность шины памяти, N-канальные контроллеры памяти</li>
                    <li>Скорость чтения и записи</li>
                    <li>Латентность</li>
                </ul>>
            </li>
        </ul>>
        <li>
            Процессор: сведения общего характера
            <ul>
                <li>
                    Понятие архитектуры
                    <ul>
                        <li>Архитектура как совместимость с кодом</li>
                        <li>Архитектура как характеристика семейства процессоров</li>
                        <li>64-битные расширения классической x86 (IA32) архитектуры</li>
                    </ul>>
                </li>
                <li>
                    Процессорное ядро
                    <ul>
                        <li>О многоядерности (многопроцессорности) как концепции</li>
                        <li>Число ядер и технология HyperTherading</li>
                        <li>Различия между ядрами одной микроархитектуры</li>
                        <li>Ревизии</li>
                        <li>Частота работы ядра</li>
                    </ul>>
                </li>
                <li>Виртуализация</li>
                <li>Особенности образования названий процессоров</li>
                <li>Измерение скорости «в мегагерцах» — как это возможно?</li>
                <li>О некоторых особенностях технологии DDR и шин HT и QPI</li>
                <li>Внешние данные: корпус, разъём, охлаждение </li>
            </ul>>
        </li>
        <li>
            Процессор: детальней
            <ul>
                <li>
                    Кэш
                    <ul>
                        <li>Общее описание и принцип действия</li>
                        <li>Многоуровневое кэширование</li>
                    </ul>
                </li>
                <li>Декодер</li>
                <li>Регистры процессора</li>
                <li>
                    Функциональные устройства
                    <ul>
                        <li>Арифметико-логические устройства</li>
                        <li>Блоки вычислений с плавающей запятой и векторной обработки</li>
                        <li>Блоки обмена данных с памятью</li>
                    </ul>
                </li>
                <li>Энергосбережение</li>
            </ul>
        </li>
        <li>
            Процессор: ещё детальней
            <ul>
                <li>
                    Особенности кэшей
                    <ul>
                        <li>Частота работы кэша и его шина</li>
                        <li>Эксклюзивный и неэксклюзивный кэш</li>
                    </ul>
                </li>
                <li>Суперскалярность и внеочередное исполнение команд</li>
                <li>
                    Предварительное (опережающее) декодирование и кэширование
                    <ul>
                        <li>Предсказание ветвлений</li>
                        <li>Предвыборка данных </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>Приложение: генеалогическое древо x86-процессоров</li>
        <li>Заключение</li>
    </ol>
    <h2>Введение</h2>

    <h3>Общее устройство вычислительной машины</h3>

    <p> Любой компьютер как универсальный инструмент для работы с информацией устроен очень просто. Все его части можно разделить на 3 вида: устройства обработки, хранения и обмена (ввода-вывода), причём последние могут осуществлять обмен данными как между компьютером и человеком, так и между другими компьютерами. С информационной точки зрения больше ничего там нет, хотя учитывая, что компьютер — устройство электрическое, ему нужен источник питания, кабели и т.п., но это общая часть всей электроники. При этом каждый элемент сам делится на компоненты вышеперечисленных трёх видов. Например, процессор относится к устройствам обработки, но внутри себя имеет блоки собственно вычислений, локальной памяти и обмена. Большая часть пока ещё непонятных терминов именует конкретные детали процессора или методы их взаимодействий.</p>

    <h3>Код и данные: основной принцип работы процессора</h3>

    <p>Если не пытаться изложить здесь «кратенько» курс информатики для средней школы, то единственное что хотелось бы напомнить — это то, что процессор (за редкими исключениями) исполняет не программы, написанные на каком-нибудь языке программирования (один из которых, вы, возможно, даже знаете), а так называемый машинный код. Т.е. командами для него являются последовательности байтов, находящихся в памяти компьютера, не имеющие ничего общего не только с каким-то человеческим языком, но и с языком программирования высокого уровня. Каждая команда занимает до нескольких байт, в среднем — 3-5. Там же, в основной памяти (ОЗУ, RAM) находятся и данные. Они могут находиться в отдельной области, а могут и быть перемешаны с кодом. Различие между кодом и данными состоит в том, что данные — это то, над чем процессор производит операции. А код — это команды, которые ему сообщают, какую именно операцию он должен произвести. Одновременно в памяти располагаются множество программ, необходимых им данных и некоторое свободное место.</p>
    <figure class="=image">
    <img src="img/von-neumann.png" alt="Архитектура Фон-Неймана" title="Архиитектура Фон-Неймана">
    <figcaption>
        Блок-схема «машины фон Неймана»,
        на принципах которой построены все x86-процессоры
    </figcaption>
    </figure>

    <p>Чтобы исполнить команду, процессор должен прочитать её из памяти. Чтобы произвести операцию над данными (а этого требует почти каждая команда), процессор должен прочитать их из памяти, и, возможно, после произведения над ними определённого действия, записать их обратно в память в обновлённом (изменённом) виде. Команды и данные идентифицируются их адресом, который представляет собой порядковый номер байта в памяти, с которого эти данные начинаются (если они занимают несколько байт). Общие принципы взаимодействия процессора и ОЗУ</p>

    <p>Возможно, кого-то удивит, что достаточно большой раздел в «Дайджесте», посвящённом x86 CPU, выделен под объяснение особенностей функционирования памяти в современных системах, основанных на данном типе процессоров. Однако факты — упрямая вещь: сами x86-процессоры ныне содержат так много блоков, отвечающих именно за оптимизацию их работы с ОЗУ, что игнорировать эту тесную связь было бы совершенно нелепо. Можно сказать даже так: уж, коль решения, связанные с оптимизацией работы с памятью, стали неотъемлемой частью самих процессоров — то и саму память можно рассматривать в качестве некоего «придатка», функционирование которого оказывает непосредственное влияние на скорость работы CPU. Без понимания особенностей взаимодействия процессора с памятью, невозможно понять, за счёт чего тот или иной процессор (та или иная система) исполняет программы медленнее или быстрее.</p>
</body>
</html>